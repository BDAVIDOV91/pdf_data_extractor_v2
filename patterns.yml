patent_and_trademark_institute:
  document_type: patent_invoice
  keywords:
    - "Patent and Trademark Institute"
  invoice_number: 'Invoice No\.\s*(\d+)'
  date: 'Date:\s*(\d{2}\.\d{2}\.\d{4})'
  total: 'Total:\s*([\d.,]+)'
  vat: 'VAT:\s*([\d.,]+)'
  client: 'Bill To:\s*([\s\S]+?)(?:Invoice No:|Date:)'
  line_items_block: '(?:Description|Item|Product|Service)(?:[^\n]*\n)*([\s\S]+?)(?:Subtotal|Total|VAT|ДДС|ОБЩО|CYMA):'
  line_items: '(?P<description>.+?)\s+(?P<quantity>\d+)?\s*(?P<unit_price>[\d.,]+)\s+(?P<amount>[\d.,]+)'

vukov_development_services:
  document_type: vukov_invoice
  keywords:
    - "Вуков Дивелъпмънт Сървисис"
  invoice_number: '(?:Фактура|Invoice)\s*(?:Номер|No|Num|№)?[:\s]*([A-Z0-9-]+)'
  date: '(?:Дата|Date)[:\s]*(\d{1,2}[./-]\d{1,2}[./-]\d{2,4})'
  total: 'Сума за плащане:\s*([\d.,]+)'
  vat: 'ДДС:\s*([\d.,]+)'
  client: '(?:Получател|Recipient|Client|Customer)\s*(?:Доставчик|Provider)?\s*([\s\S]+?)(?:ДДС №|VAT Number|VAT No|EIK|ЕИК)'
  line_items_block: '(?:Сума|Amount|Price)\s*(?:№|No)?\s*(?:Наименование на стоката/услугата|Description|Item|Product|Service)(?:[^\n]*\n)*([\s\S]+?)(?:Данъчна основа|Tax Base|Subtotal|Total|VAT|ДДС|ОБЩО|CYMA):'
  line_items: '(?P<description>.+?)\s+(?P<quantity>[\d.,]+)?\s*(?P<price>[\d.,]+)?\s*(?P<amount>[\d.,]+)'

etkyusi_eood:
  document_type: etkyusi_invoice
  keywords:
    - "ЕтКюСи ЕООД"
  invoice_number: '(?:Фактура|Invoice)\s*(?:No|№)?[: ]*([A-Z0-9-]+)'
  date: '(?:Дата на издаване|Date of Issue|Date)[:\s]*(\d{1,2}[./-]\d{1,2}[./-]\d{2,4})'
  total: 'Сума за плащане:\s*([\d.,]+)'
  vat: 'Начислен ДДС(?:\(\d+%\))?:\s*([\d.,]+)'
  client: '(?:Получател|Recipient|Client|Customer)[: ]*(?:Име на фирма|Company Name)?[: ]*([^\n]+)'
  line_items_block: '(?:No|№)?\s*(?:Име на стоката/услугата|Description|Item|Product|Service)(?:[^\n]*\n)*([\s\S]+?)(?:Получател|Recipient|Client|Customer):'
  line_items: '(?P<description>.+?)\s+(?P<measure>\w+)?\s*(?P<quantity>[\d.,]+)?\s*(?P<price>[\d.,]+)?\s*(?P<amount>[\d.,]+)'

receipt:
  document_type: receipt
  keywords:
    - "фискален бон"
    - "касова бележка"
    - "receipt"
    - "cash receipt"
    - "sales receipt"
    - "invoice"
  merchant_name: '(?i)(?:Merchant|Store|Shop|Company|Продавач|Магазин|Фирма):\s*([^\n]+)'
  total: '(?i)(?:ОБЩО|CYMA|Total|Grand Total|Amount Due|Sum|Всичко)[:\s]*([\d.,]+)'
  vat: '(?i)(?:VAT|ДДС|Tax)[:\s]*([\d.,]+)'
  date: '(?i)(?:Date|Дата|Dato)[:\s]*(\d{1,2}[./-]\d{1,2}[./-]\d{2,4}|\d{4}-\d{2}-\d{2})'
  transaction_id: '(?i)(?:Transaction ID|Trn ID|Ref No|Номер на транзакция)[:\s]*([A-Z0-9]+)'
  payment_method: '(?i)(?:Payment Method|Method of Payment|Начин на плащане)[:\s]*(Cash|Card|Credit Card|Debit Card|Кеш|Карта)'
  line_items_block: '(?i)(?:Description|Item|Product|Наименование|Стока)(?:[\s\S]+?)(?:Total|Sum|Сума)[:\s]*([\s\S]+?)(?:Subtotal|VAT|ДДС|ОБЩО|CYMA)'
  line_items: '(?P<description>.+?)\s+(?P<quantity>\d+)?\s*(?P<amount>[\d.,]+)'


document:
  document_type: generic_document
  keywords:
    - "invoice"
    - "bill"
    - "receipt"
    - "statement"
    - "document"
    - "фактура"
    - "касова бележка"
    - "документ"
  invoice_number: '(?:Invoice|Bill|Ref|No|Number|Фактура)[:\s#]*([A-Z0-9\-]+)'
  date: '(?:Date|Datum|Dato|Fecha|Date of Issue|Дата)[:\s]*(\d{1,2}[./-]\d{1,2}[./-]\d{2,4}|\d{1,2}\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{2,4}|\d{4}-\d{2}-\d{2})'
  total: '(?:Total|Amount Due|Grand Total|Balance Due|Sum|Gesamtbetrag|Total Amount|Total Payable|Net Total|Total Incl. VAT|TOTAL|Сума за плащане|Обща сума)[:\s]*(?:[A-Z$€£]{1,3}\s*)?([\d.,]+)'
  vat: '(?:VAT|Tax|MwSt|Sales Tax|ДДС)[:\s]*([\d.,]+)'
  client: '(?:Bill To|Customer|Client|Recipient|Получател)[:\s]*(.*?)(?:\n|$)'
  line_items: '(?P<quantity>\d+)?\s*(?P<description>.+?)\s+(?P<amount>[\d.,]+)'
