patent_and_trademark_institute:
  document_type: patent_invoice
  keywords:
    - "Patent and Trademark Institute"
  invoice_number: |
    (?:Invoice|Invoice No|Invoice Number|No|№)[:\s#]*([A-Z0-9-]+)
  date: |
    (?:Date|Datum|Dato|Fecha|Date of Issue|Дата)[:\s]*([\d]{1,2}[./-][\d]{1,2}[./-][\d]{2,4}|[\d]{1,2}\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+[\d]{2,4}|[\d]{4}-[\d]{2}-[\d]{2})
  total: |
    (?:Total|Amount Due|Grand Total|Sum)[:\s]*(?:[A-Z$€£]{1,3}\s*)?([\d.,]+)
  vat: |
    VAT:\s*([\d.,]+)
  client: |
    Bill To:\s*([^\n]+(?:\n[^\n]+)?)
  line_items_block: |
    (?i)(?:Description|Item|Product|Service|Наименование на стоката/услугата|Артикул|КОД|ОПИСАНИЕ|Услуга)[\s\S]+?(?:Subtotal|Total|VAT|ДДС|ОБЩО|CYMA|Данъчна основа|Tax Base|Междинна сума|ОБЩА СУМА|Сума|ВСИЧКО|Стойност|Total Amount|Общо|Междинна сума)
  line_items: |
    (?P<description>.+?)\s+(?P<numbers>(?:[\d.,]+\s*)+)

vukov_development_services:
  document_type: vukov_invoice
  keywords:
    - "Вуков Дивелъпмънт Сървисис"
    - "Vukov Development Services"
  invoice_number: 'Invoice No:[\s\r\n]*([0-9]+)'
  date: |
    (?:Дата|Date):[\s\r\n]*([\d]{1,2}[./-][\d]{1,2}[./-][\d]{2,4}|[\d]{4}-[\d]{2}-[\d]{2})
  total: |
    (?:Сума за плащане|Total):[\s]*([\d.,]+)
  vat: |
    ДДС:[\s]*([\d.,]+)
  client: |
    Получател[\s]*([^\n]+)
  line_items_block: |
    (?i)(?:Description|Item|Product|Service|Наименование на стоката/услугата|Артикул|КОД|ОПИСАНИЕ|Услуга)[\s\S]+?(?:Subtotal|Total|VAT|ДДС|ОБЩО|CYMA|Данъчна основа|Tax Base|Междинна сума|ОБЩА СУМА|Сума|ВСИЧКО|Стойност|Total Amount|Общо|Междинна сума)
  line_items: |
    (?P<description>.+?)\s+(?P<numbers>(?:[\d.,]+\s*)+)

etkyusi_eood:
  document_type: etkyusi_invoice
  keywords:
    - "ЕтКюСи ЕООД"
  invoice_number: |
    (?:Фактура|Invoice)\s*(?:No|№)?:[: ]*([A-Z0-9-]+)
  date: |
    (?:Дата на издаване|Date of Issue|Date)[:\s]*([\d]{1,2}[./-][\d]{1,2}[./-][\d]{2,4}|[\d]{4}-[\d]{2}-[\d]{2})
  total: |
    Сума за плащане:\s*([\d.,]+)
  vat: |
    Начислен ДДС(?:\d+%?)?[ :\s]*([\d.,]+)
  client: |
    (?:Получател|Recipient|Client|Customer|Buyer|Купувач|Клиент)[: ]*(?:Име на фирма|Company Name)?:([\s\S]+?)(?:\n|Id.No|ЕИК|ДДС No|$)
  line_items_block: |
    (?i)(?:Description|Item|Product|Service|Наименование на стоката/услугата|Артикул|КОД|ОПИСАНИЕ|Услуга)[\s\S]+?(?:Subtotal|Total|VAT|ДДС|ОБЩО|CYMA|Данъчна основа|Tax Base|Междинна сума|ОБЩА СУМА|Сума|ВСИЧКО|Стойност|Total Amount|Общо|Междинна сума)
  line_items: |
    (?P<description>.+?)\s+(?P<numbers>(?:[\d.,]+\s*)+)

receipt:
  document_type: receipt
  keywords:
    - "фискален бон"
    - "касова бележка"
    - "receipt"
    - "cash receipt"
    - "sales receipt"
  merchant_name: |
    (?i)(?:Merchant|Store|Shop|Company|Продавач|Магазин|Фирма):\s*([^\n]+)
  total: |
    (?i)(?:ОБЩО|CYMA|Total|Grand Total|Amount Due|Sum|Всичко)[:\s]*([\d.,]+)
  vat: |
    (?i)(?:VAT|ДДС|Tax)[:\s]*([\d.,]+)
  date: |
    (?i)(?:Date|Дата|Dato|Date of Issue|Trans Date|Sale Date)[:\s]*([\d]{1,2}[./-][\d]{1,2}[./-][\d]{2,4}|[\d]{1,2}\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+[\d]{2,4}|[\d]{4}-[\d]{2}-[\d]{2})
  transaction_id: |
    (?i)(?:Transaction ID|Trn ID|Ref No|Номер на транзакция)[:\s]*([A-Z0-9]+)
  payment_method: |
    (?i)(?:Payment Method|Method of Payment|Начин на плащане)[:\s]*(Cash|Card|Credit Card|Debit Card|Кеш|Карта)
  line_items_block: |
    (?i)(?:Description|Item|Product|Наименование|Стока)[\s\S]+?(?:Total|Sum|Сума|Subtotal|VAT|ДДС|ОБЩО|CYMA)
  line_items: |
    (?P<description>.+?)\s+(?P<numbers>(?:[\d.,]+\s*)+)

document:
  document_type: generic_document
  keywords:
    - "invoice"
    - "bill"
    - "receipt"
    - "statement"
    - "document"
    - "фактура"
    - "касова бележка"
    - "документ"
  invoice_number: |
    (?:Invoice|Bill|Ref|No|Number|Фактура)[:\s#]*([A-Z0-9\-]+)
  date: |
    (?:Date|Datum|Dato|Fecha|Date of Issue|Дата)[:\s]*([\d]{1,2}[./-][\d]{1,2}[./-][\d]{2,4}|[\d]{1,2}\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+[\d]{2,4}|[\d]{4}-[\d]{2}-[\d]{2})
  total: |
    (?:Total|Amount Due|Grand Total|Balance Due|Sum|Gesamtbetrag|Total Amount|Total Payable|Net Total|Total Incl. VAT|TOTAL|Сума за плащане|Обща сума)[:\s]*(?:[A-Z$€£]{1,3}\s*)?([\d.,]+)
  vat: |
    (?:VAT|Tax|MwSt|Sales Tax|ДДС)[:\s]*([\d.,]+)
  client: |
    (?:Bill To|Customer|Client|Recipient|Получател)[:\s]*(.+?)(?:\n|\s{2,}|$)
  line_items_block: |
    (?i)(?:Description|Item|Product|Service|Наименование на стоката/услугата|Артикул|КОД|ОПИСАНИЕ|Услуга)[\s\S]+?(?:Subtotal|Total|VAT|ДДС|ОБЩО|CYMA|Данъчна основа|Tax Base|Междинна сума|ОБЩА СУМА|Сума|ВСИЧКО|Стойност|Total Amount|Общо|Междинна сума)
  line_items: |
    (?P<description>.+?)\s+(?P<numbers>(?:[\d.,]+\s*)+)

ikea_receipt:
  document_type: ikea_receipt
  keywords:
    - "IKEA"
    - "ХАУС МАРКЕТ БЪЛГАРИЯ"
  merchant_name: |
    (?:ХАУС МАРКЕТ БЪЛГАРИЯ|IKEA)
  invoice_number: |
    ФАКТУРА NO: ?(\S+)
  date: |
    Дата и Час:\s*([\d]{1,2}[./-][\d]{1,2}[./-][\d]{2,4}|[\d]{4}-[\d]{2}-[\d]{2}|[\d]{8})
  total: |
    Сума\s*([\d.,]+)\s*BGN
  vat: |
    ДДС ГРУПА Б-20,00% 
  line_items_block: |
    (?i)(?:Description|Item|Product|Service|Наименование на стоката/услугата|Артикул|КОД|ОПИСАНИЕ|Услуга)[\s\S]+?(?:Subtotal|Total|VAT|ДДС|ОБЩО|CYMA|Данъчна основа|Tax Base|Междинна сума|ОБЩА СУМА|Сума|ВСИЧКО|Стойност|Total Amount|Общо|Междинна сума)
  line_items: |
    (?P<description>.+?)\s+(?P<numbers>(?:[\d.,]+\s*)+)
